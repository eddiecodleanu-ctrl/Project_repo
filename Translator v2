from deep_translator import GoogleTranslator
import tkinter as tk
import speech_recognition as sr

root = tk.Tk()
root.title("Translator")
root.geometry("500x300")
root.configure(bg="light blue")

label = tk.Label(root, text="Enter text below", font=("Arial", 15))
label.pack(padx=25, pady=10)

Text = tk.Text(root,width=60,height=4)
Text.pack(padx=25, pady=20)

translated_label = tk.Label(root, text="Translation will appear here", font=("Arial", 10),wraplength=300,
justify="center")

VoiceRec_label = tk.Label(root, text="",bg="light blue")
VoiceRec_label.place(x=385,y=40)

def voice_recognition():
    recognizer = sr.Recognizer()
    recognizer.energy_threshold = 10
    with sr.Microphone() as source:
        print("listening...")

        audio = recognizer.listen(source,timeout=5)
        VoiceRec_label.config(text="recognizing...")
        print("recognizing...")

        text = recognizer.recognize_google(audio)
        Text.insert("1.0",text)
        VoiceRec_label.config(text="")

VoiceRec_btn = tk.Button(root, text="Voice recognition", command=voice_recognition)
VoiceRec_btn.place(x=350, y=12)

def translate():
    message = Text.get("1.0", "end")
    translated = GoogleTranslator(source='auto', target="en").translate(message)
    translated_label.config(text=translated)

submit_btn = tk.Button(root, text="Submit", command=translate, font=("Arial", 10))
submit_btn.pack(padx=25)

translated_label.pack(padx=25, pady=30)

root.mainloop()
